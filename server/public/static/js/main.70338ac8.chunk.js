(this["webpackJsonpprueba-tecnica-belike"]=this["webpackJsonpprueba-tecnica-belike"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),c=n.n(s),r=n(4),i=n.n(r),o=(n(10),n(2)),l=function(e){var t=Object(s.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(s.useState)(""),l=Object(o.a)(i,2),u=l[0],j=l[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("main",{className:"main",children:Object(a.jsxs)("form",{action:"",className:"main__form js-signIn",onSubmit:function(t){t.preventDefault(),e.handlesignIn({userName:c,password:u})},children:[Object(a.jsx)("h2",{className:"main__title",children:"Sign in"}),Object(a.jsx)("label",{htmlFor:"name",className:"main__form--label",children:"Introduce tu usuario"}),Object(a.jsx)("input",{type:"text",id:"name",placeholder:"Ej: Laura",className:"main__form--input js-username",onChange:function(e){r(e.target.value)}}),Object(a.jsx)("label",{htmlFor:"password",className:"main__form--label",children:"Introduce tu contrase\xf1a"}),Object(a.jsx)("input",{type:"text",id:"password",className:"main__form--input js-password",onChange:function(e){j(e.target.value)}}),Object(a.jsx)("input",{type:"submit",value:"Inicia sesi\xf3n",className:"js-SignIn"}),Object(a.jsx)("p",{children:e.loginError})]})})})},u="//localhost:3000/api",j={sendLogin:function(e){return fetch("".concat(u,"/login"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))},sendUserDelete:function(e){return fetch("".concat(u,"/delete"),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))},sendUserUpdate:function(e){return fetch("".concat(u,"/update"),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},d=function(e){return Object(a.jsx)("header",{className:"header__bar",children:Object(a.jsx)("p",{className:"header__bar--userName",children:e.userName})})},m=function(e){return Object(a.jsxs)("div",{className:"Container__delete",children:[Object(a.jsx)("h2",{className:"main__title",children:"Delete"}),Object(a.jsx)("button",{onClick:function(){e.handleUserDelete()},children:"Borrar usuario"})]})},b=function(e){var t=Object(s.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(s.useState)(""),l=Object(o.a)(i,2),u=l[0],j=l[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("main",{className:"main",children:[Object(a.jsxs)("form",{action:"",className:"main__form js-signIn",onSubmit:function(t){t.preventDefault(),e.handleUserUpdate({userNameUpdate:c,passwordUpdate:u})},children:[Object(a.jsx)("h2",{className:"main__title",children:"Update"}),Object(a.jsx)("label",{htmlFor:"name",className:"main__form--label",children:"Introduce tu usuario"}),Object(a.jsx)("input",{type:"text",id:"name",placeholder:"Ej: Laura",className:"main__form--input js-username",onChange:function(e){r(e.target.value)}}),Object(a.jsx)("label",{htmlFor:"password",className:"main__form--label",children:"Introduce tu contrase\xf1a"}),Object(a.jsx)("input",{type:"text",id:"password",className:"main__form--input js-password",onChange:function(e){j(e.target.value)}}),Object(a.jsx)("input",{type:"submit",value:"Actualizar Usuario",className:"js-SignIn"})]}),Object(a.jsx)(m,{handleUserDelete:e.handleUserDelete})]})})},h=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),i=Object(o.a)(r,2),u=i[0],m=i[1],h=Object(s.useState)(""),p=Object(o.a)(h,2),O=p[0],f=p[1],x=function(e){j.sendLogin(e).then((function(e){console.log(e),e.error?c(e.message):(c(""),m(e.userId),f(e.userName))}))},_=function(e){j.sendUserUpdate(e).then((function(e){console.log(e)}))},g=function(){j.sendUserDelete(u).then((function(e){console.log(e)}))};return""===u?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(l,{handlesignIn:x,loginError:n})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d,{userName:O}),Object(a.jsx)(b,{handleUserUpdate:_,handleUserDelete:g})]})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(h,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.70338ac8.chunk.js.map